<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulado Interativo ‚Äì CAD, EHH e Sepse</title>
  <style>
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --primary: #2563eb;
      --good: #16a34a;
      --bad: #dc2626;
      --info: #e0f2fe;
    }
    *{box-sizing:border-box}
    body{margin:0;padding:24px;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Arial,sans-serif}
    header{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:clamp(20px,3vw,28px);margin:0;color:var(--primary)}
    .controls{display:flex;gap:10px;flex-wrap:wrap}
    select,button{border:1px solid #e2e8f0;border-radius:10px;padding:10px 12px;background:#fff;color:var(--text);cursor:pointer}
    button.primary{background:var(--primary);color:#fff;border-color:transparent}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:14px}
    .card{background:var(--card);border-radius:16px;box-shadow:0 6px 18px rgba(2,6,23,.06);padding:16px}
    .q-title{font-size:16px;margin:0 0 10px 0}
    .options{display:flex;flex-direction:column;gap:8px}
    .options button{width:100%;text-align:left;padding:10px 12px;border-radius:10px;border:1px solid #e2e8f0;background:#f1f5f9}
    .options button.correct{background:#dcfce7;border-color:#86efac}
    .options button.wrong{background:#fee2e2;border-color:#fecaca}
    .explanation{display:none;margin-top:10px;padding:10px 12px;background:var(--info);border-left:4px solid var(--primary);border-radius:10px}
    .meta{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px;color:var(--muted);font-size:12px}
    .footer-note{margin-top:20px;font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <h1>ü©∫ Simulado Interativo ‚Äì CAD, EHH e Sepse</h1>
    <div class="controls">
      <label>
        <span style="font-size:14px;color:var(--muted);display:block;margin-bottom:4px">Selecione o tema</span>
        <select id="topicSelect">
          <option value="cad">Cetoacidose diab√©tica (CAD)</option>
          <option value="ehh">Estado hiperosmolar hiperglic√™mico (EHH)</option>
          <option value="sepse">Sepse na emerg√™ncia cl√≠nica</option>
        </select>
      </label>
      <button class="primary" id="resetBtn">Reiniciar tema</button>
      <button id="revealBtn">Revelar explica√ß√µes</button>
    </div>
  </header>

  <div id="quiz" class="grid"></div>

  <p class="footer-note">Dica: responda todas e depois clique em ‚ÄúRevelar explica√ß√µes‚Äù. Use ‚ÄúReiniciar tema‚Äù para tentar novamente.</p>

<script>
// =====================
// Banco de Quest√µes
// =====================
const bank = {
  cad: [
    { q: "1. Qual √© o conjunto de crit√©rios diagn√≥sticos da CAD?",
      options: [
        "a) Hipoglicemia, acidose metab√≥lica e cetonemia",
        "b) Hiperglicemia, acidose metab√≥lica e cetonemia",
        "c) Hiperglicemia, alcalose metab√≥lica e cetonemia",
        "d) Euforia, cetonemia e hipoglicemia",
        "e) Hiperglicemia isolada"
      ], answer: 1,
      explanation: "O diagn√≥stico exige hiperglicemia + acidose metab√≥lica + cetonemia. Essa √© a tr√≠ade cl√°ssica da CAD."
    },
    { q: "2. Qual √© o principal fator desencadeante da CAD?",
      options: ["a) Hipertireoidismo","b) Infec√ß√£o","c) Uso de metformina","d) Excesso de carboidratos na dieta","e) Insufici√™ncia renal cr√¥nica"],
      answer: 1,
      explanation: "Infec√ß√£o √© o desencadeante mais comum, seguida por omiss√£o de insulina."
    },
    { q: "3. Na fisiopatologia da CAD, a defici√™ncia de insulina leva principalmente a:",
      options: [
        "a) Aumento da glic√≥lise e redu√ß√£o da lip√≥lise",
        "b) Redu√ß√£o da gliconeog√™nese e aumento da cetog√™nese",
        "c) Aumento da gliconeog√™nese, lip√≥lise e produ√ß√£o de corpos cet√¥nicos",
        "d) Hipoglicemia e alcalose metab√≥lica",
        "e) Inibi√ß√£o da glicogen√≥lise e aumento da glic√≥lise"
      ], answer: 2,
      explanation: "Falta de insulina ‚Üí ‚Üë gliconeog√™nese e glicogen√≥lise + ‚Üë lip√≥lise ‚Üí cetog√™nese ‚Üí acidose."
    },
    { q: "4. Qual das manifesta√ß√µes abaixo N√ÉO √© t√≠pica da CAD?",
      options: ["a) Respira√ß√£o de Kussmaul","b) Poli√∫ria e polidipsia","c) Dor abdominal","d) Altera√ß√£o do sens√≥rio","e) Alcalose respirat√≥ria isolada"],
      answer: 4,
      explanation: "O quadro √© acidose metab√≥lica com hiperventila√ß√£o compensat√≥ria (Kussmaul), n√£o alcalose respirat√≥ria isolada."
    },
    { q: "5. Qual √© a medida inicial priorit√°ria na CAD?",
      options: ["a) Administrar insulina em bolus endovenoso","b) Reposi√ß√£o vol√™mica com soro fisiol√≥gico 0,9%","c) Infus√£o imediata de bicarbonato","d) Administrar glicose EV","e) Intuba√ß√£o orotraqueal"],
      answer: 1,
      explanation: "A prioridade inicial √© reposi√ß√£o vol√™mica com SF 0,9%. A insulina vem ap√≥s a expans√£o."
    },
    { q: "6. Por que √© fundamental avaliar o pot√°ssio antes de iniciar insulina na CAD?",
      options: ["a) Porque o pot√°ssio aumenta com a insulina","b) Porque a insulina desloca K+ para dentro da c√©lula, podendo causar hipocalemia grave","c) Porque a insulina n√£o altera o K+","d) Porque o pot√°ssio n√£o influencia o tratamento","e) Porque o K+ sempre est√° baixo na CAD"],
      answer: 1,
      explanation: "A insulina reduz o K+ s√©rico (entrada celular) ‚Üí risco de arritmias se j√° estiver baixo."
    },
    { q: "7. Qual a principal diferen√ßa entre CAD e estado hiperglic√™mico hiperosmolar (EHH)?",
      options: ["a) Na CAD n√£o h√° acidose","b) A CAD ocorre em DM2, e o EHH em DM1","c) O EHH apresenta hiperglicemia muito maior e osmolaridade elevada, mas sem cetose significativa","d) O EHH ocorre com glicemias mais baixas que a CAD","e) A CAD n√£o causa altera√ß√µes eletrol√≠ticas"],
      answer: 2,
      explanation: "EHH ‚Üí hiperglicemia > 600 mg/dL e hiperosmolaridade, sem cetose/acidose marcante."
    },
    { q: "8. Qual a complica√ß√£o mais temida durante o tratamento da CAD, especialmente em crian√ßas?",
      options: ["a) Arritmia ventricular","b) Edema cerebral","c) S√≠ndrome de lise tumoral","d) Hipoglicemia","e) Insufici√™ncia renal aguda"],
      answer: 1,
      explanation: "Edema cerebral √© a principal causa de mortalidade em jovens com CAD."
    },
    { q: "9. Durante o tratamento da CAD, quais par√¢metros devem ser monitorados?",
      options: ["a) Apenas glicemia","b) Apenas eletr√≥litos","c) Apenas diurese","d) Glicemia, eletr√≥litos, gasometria, diurese e estado neurol√≥gico","e) Apenas sinais neurol√≥gicos"],
      answer: 3,
      explanation: "Monitoriza√ß√£o completa √© essencial para seguran√ßa e efic√°cia do tratamento."
    },
    { q: "10. Quando se considera a CAD resolvida?",
      options: ["a) Glicemia < 200 mg/dL","b) Ceton√∫ria negativa","c) pH > 7,3, HCO3- > 18 mEq/L e cetonemia em regress√£o","d) Assintom√°tico","e) Glicemia normal"],
      answer: 2,
      explanation: "Crit√©rios de resolu√ß√£o priorizam a corre√ß√£o da acidose, n√£o apenas da glicemia."
    }
  ],

  ehh: [
    { q: "1. Crit√©rios laboratoriais t√≠picos do EHH incluem:",
      options: [
        "a) Glicose > 250 mg/dL, pH < 7,3, cetonemia intensa",
        "b) Glicose > 600 mg/dL, osmolaridade efetiva > 320 mOsm/kg, pH > 7,3 e cetose ausente/leve",
        "c) Glicose < 180 mg/dL e pH < 7,2",
        "d) Glicose > 600 mg/dL com acidose metab√≥lica grave",
        "e) Osmolaridade < 280 mOsm/kg"
      ], answer: 1,
      explanation: "EHH: hiperglicemia marcada, hiperosmolaridade, m√≠nima cetose e pH geralmente > 7,3."
    },
    { q: "2. Fator precipitante mais comum do EHH:",
      options: ["a) Hipotireoidismo","b) Infec√ß√£o","c) Uso de metformina","d) Dieta hipoglic√≠dica","e) Transfus√£o"],
      answer: 1,
      explanation: "Infec√ß√£o e omiss√£o de antidiab√©ticos/insulina s√£o causas frequentes."
    },
    { q: "3. Primeira medida terap√™utica no EHH:",
      options: ["a) Insulina em bolus","b) Bicarbonato EV","c) Reposi√ß√£o vigorosa com cristaloide (SF 0,9% ou balanceado)","d) Di√°lise","e) Dextrose 10% EV"],
      answer: 2,
      explanation: "Reposi√ß√£o vol√™mica vem antes da insulina e reduz significativamente a glicemia e a osmolalidade."
    },
    { q: "4. Em rela√ß√£o √† corre√ß√£o do s√≥dio no EHH, assinale a correta:",
      options: [
        "a) A glicose n√£o altera o s√≥dio medido",
        "b) Corrigir Na+ adicionando ~1,6 mEq/L para cada 100 mg/dL de glicose acima de 100",
        "c) Subtrair 1,6 mEq/L para cada 100 mg/dL de glicose",
        "d) Sempre infundir Na+ hipert√¥nico",
        "e) N√£o se corrige s√≥dio em EHH"
      ], answer: 1,
      explanation: "Hiperglicemia dilui Na+: corre√ß√£o aproximada adicionando 1,6 mEq/L por 100 mg/dL de glicose acima de 100."
    },
    { q: "5. Objetivo seguro de redu√ß√£o da glicose no EHH por hora:",
      options: ["a) 10‚Äì20 mg/dL","b) 50‚Äì70 mg/dL","c) 120‚Äì150 mg/dL","d) 200‚Äì250 mg/dL","e) N√£o h√° alvo"],
      answer: 1,
      explanation: "Queda muito r√°pida aumenta risco de edema cerebral; recomenda-se cerca de 50‚Äì70 mg/dL/h."
    },
    { q: "6. Em rela√ß√£o √† insulina no EHH, √© correto afirmar:",
      options: [
        "a) Deve ser iniciada antes de fluidos",
        "b) Dose inicial em infus√£o baixa ap√≥s fluidos; √†s vezes n√£o √© necess√°ria se glicose cair apenas com volume",
        "c) Usar sempre bolus alto",
        "d) Preferir via subcut√¢nea em todos",
        "e) Contraindicar em idosos"
      ], answer: 1,
      explanation: "Ap√≥s volume, usar insulina IV de baixa dose; alguns pacientes melhoram apenas com fluidos inicialmente."
    },
    { q: "7. Achado cl√≠nico t√≠pico do EHH, mais comum que na CAD:",
      options: ["a) Dor abdominal intensa","b) Kussmaul","c) D√©ficit neurol√≥gico focal/confus√£o pronunciada","d) Halitose cet√≥tica","e) N√°usea incoerc√≠vel"],
      answer: 2,
      explanation: "A hiperosmolaridade cursa com altera√ß√µes neurol√≥gicas marcantes, especialmente em idosos."
    },
    { q: "8. F√≥rmula aproximada da osmolaridade plasm√°tica efetiva:",
      options: [
        "a) 2 x Na + glicose/18",
        "b) 2 x K + glicose/18 + ureia/2,8",
        "c) 2 x Na + glicose/18 + ureia/2,8",
        "d) Na + K + glicose/18",
        "e) Na x glicose"
      ], answer: 0,
      explanation: "Osmolaridade efetiva exclui ureia: 2xNa + glicose/18 (em mOsm/kg)."
    },
    { q: "9. Complica√ß√£o a considerar no EHH devido √† hiperviscosidade:",
      options: ["a) Pancreatite por hipocalcemia","b) Tromboembolismo venoso","c) Hipercalemia fatal invari√°vel","d) Hepatite medicamentosa","e) Uremia"],
      answer: 1,
      explanation: "Devido √† desidrata√ß√£o/hiperviscosidade, considerar profilaxia para TEV quando apropriado."
    },
    { q: "10. Sobre bicarbonato em EHH:",
      options: [
        "a) Indicado rotineiramente",
        "b) Contraindicado em todos",
        "c) Considerar apenas em acidose grave (pH < 6,9) associada, ap√≥s reposi√ß√£o vol√™mica",
        "d) Usar sempre se pH < 7,35",
        "e) Indicar para acelerar corre√ß√£o da hiperosmolaridade"
      ], answer: 2,
      explanation: "Bicarbonato n√£o √© rotina; considerar em acidose profunda, situa√ß√£o incomum no EHH cl√°ssico."
    }
  ],

  sepse: [
    { q: "1. De acordo com o Sepsis-3, sepse √© definida como:",
      options: [
        "a) SIRS devido a infec√ß√£o",
        "b) Infec√ß√£o com febre e leucocitose",
        "c) Disfun√ß√£o org√¢nica amea√ßadora √† vida causada por resposta desregulada do hospedeiro √† infec√ß√£o",
        "d) Bacteremia com hipotens√£o",
        "e) Choque refrat√°rio a fluidos"
      ], answer: 2,
      explanation: "Sepsis-3: disfun√ß√£o org√¢nica amea√ßadora √† vida por resposta desregulada a infec√ß√£o (SOFA ‚â• 2)."
    },
    { q: "2. Choque s√©ptico √© caracterizado por:",
      options: [
        "a) Necessidade de vasopressor para PAM ‚â• 65 mmHg e lactato > 2 mmol/L apesar de volume adequado",
        "b) Febre alta e taquicardia",
        "c) Hipotens√£o leve com melhora espont√¢nea",
        "d) Leucopenia isolada",
        "e) Taquipneia sem hipoxemia"
      ], answer: 0,
      explanation: "Defini√ß√£o do Sepsis-3 para choque s√©ptico."
    },
    { q: "3. Ferramenta pr√°tica de triagem na emerg√™ncia para suspeita de sepse:",
      options: ["a) APACHE II","b) qSOFA (ECG alterado, FR ‚â• 22, PAS ‚â§ 100)","c) CHA2DS2-VASc","d) CURB-65","e) Wells"],
      answer: 1,
      explanation: "qSOFA √© simples e √∫til para triagem de risco fora da UTI."
    },
    { q: "4. Primeiras medidas na primeira hora (pacote inicial):",
      options: [
        "a) Antibi√≥tico ap√≥s 6 horas",
        "b) Coletar culturas, medir lactato, iniciar antibi√≥tico de amplo espectro, cristaloide 30 mL/kg, vasopressor se necess√°rio",
        "c) Aguardar exames de imagem antes de antibi√≥tico",
        "d) Usar apenas coloides",
        "e) Administrar esteroide para todos"
      ], answer: 1,
      explanation: "Medidas iniciais na primeira hora segundo diretrizes atuais."
    },
    { q: "5. Cristaloide de escolha inicial na ressuscita√ß√£o:",
      options: ["a) Amido de hidroxietil","b) Solu√ß√£o balanceada ou SF 0,9%","c) Albumina para todos","d) Dextrose 5%","e) Bicarbonato 1/6 M"],
      answer: 1,
      explanation: "Cristaloides s√£o primeira linha; evitar amidos por risco de les√£o renal."
    },
    { q: "6. Primeiro vasopressor recomendado:",
      options: ["a) Dopamina","b) Norepinefrina","c) Epinefrina","d) Fenilefrina","e) Vasopressina como monoterapia"],
      answer: 1,
      explanation: "Norepinefrina √© o vasopressor de primeira linha para atingir PAM ‚â• 65 mmHg."
    },
    { q: "7. Meta de diurese esperada durante ressuscita√ß√£o:",
      options: ["a) 0,1 mL/kg/h","b) 0,3 mL/kg/h","c) 0,5 mL/kg/h","d) 1,5 mL/kg/h","e) 3 mL/kg/h"],
      answer: 2,
      explanation: "Meta comumente usada: ‚â• 0,5 mL/kg/h."
    },
    { q: "8. Sobre antibioticoterapia emp√≠rica na sepse, assinale a correta:",
      options: [
        "a) Atraso de antibi√≥tico n√£o impacta mortalidade",
        "b) Deve ser iniciada o quanto antes, ap√≥s coleta de culturas, com amplo espectro adequado √† fonte",
        "c) Sempre associa√ß√£o tripla",
        "d) Iniciar apenas ap√≥s cultura positiva",
        "e) Suspender ap√≥s 24h independente de evolu√ß√£o"
      ], answer: 1,
      explanation: "Iniciar rapidamente amplo espectro adequado ao foco, ap√≥s culturas."
    },
    { q: "9. Em rela√ß√£o ao lactato s√©rico:",
      options: [
        "a) N√£o tem utilidade",
        "b) Se elevado, n√£o precisa reavaliar",
        "c) Deve ser medido e reavaliado para guiar ressuscita√ß√£o",
        "d) S√≥ se mede na UTI",
        "e) Eleva√ß√£o indica sempre hipoxemia"
      ], answer: 2,
      explanation: "Lactato guia ressuscita√ß√£o e deve ser reavaliado (clearance)."
    },
    { q: "10. Sobre controle de foco na sepse:",
      options: [
        "a) Pode ser postergado indefinidamente",
        "b) Raramente √© necess√°rio",
        "c) Deve ser considerado precocemente (ex.: drenagem, remo√ß√£o de cateter infectado)",
        "d) Apenas ap√≥s estabiliza√ß√£o completa",
        "e) Jamais durante antibi√≥tico"
      ], answer: 2,
      explanation: "Controle de foco precoce √© parte crucial do manejo."
    }
  ]
};

// =====================
// Renderiza√ß√£o
// =====================
const quizEl = document.getElementById('quiz');
const topicSelect = document.getElementById('topicSelect');
const resetBtn = document.getElementById('resetBtn');
const revealBtn = document.getElementById('revealBtn');

function renderTopic(topic){
  quizEl.innerHTML = '';
  const questions = bank[topic];
  questions.forEach((item, idx)=>{
    const card = document.createElement('div');
    card.className = 'card';

    const title = document.createElement('h2');
    title.className = 'q-title';
    title.textContent = item.q;

    const opts = document.createElement('div');
    opts.className = 'options';

    const explanation = document.createElement('div');
    explanation.className = 'explanation';
    explanation.textContent = 'üí° ' + item.explanation;

    item.options.forEach((opt, i)=>{
      const btn = document.createElement('button');
      btn.textContent = opt;
      btn.addEventListener('click', ()=>{
        // desabilitar os outros
        const buttons = opts.querySelectorAll('button');
        buttons.forEach(b=>b.disabled = true);
        if(i === item.answer){
          btn.classList.add('correct');
        }else{
          btn.classList.add('wrong');
          // destacar a correta
          buttons[item.answer].classList.add('correct');
        }
        explanation.style.display = 'block';
      });
      opts.appendChild(btn);
    });

    const meta = document.createElement('div');
    meta.className = 'meta';
    meta.innerHTML = `<span>Quest√£o ${idx+1} de ${questions.length}</span><span>‚Ä¢</span><span>Tema: ${labelFromTopic(topic)}</span>`;

    card.appendChild(title);
    card.appendChild(opts);
    card.appendChild(explanation);
    card.appendChild(meta);
    quizEl.appendChild(card);
  });
}

function labelFromTopic(t){
  return t==='cad'? 'Cetoacidose diab√©tica' : t==='ehh'? 'Estado hiperosmolar hiperglic√™mico' : 'Sepse na emerg√™ncia';
}

function resetTopic(){
  const current = topicSelect.value;
  renderTopic(current);
}

function revealAll(){
  document.querySelectorAll('.card').forEach(card=>{
    const opts = card.querySelector('.options');
    const buttons = opts.querySelectorAll('button');
    buttons.forEach((b, idx)=>{
      b.disabled = true;
      const qIndex = Array.from(quizEl.children).indexOf(card);
      const topic = topicSelect.value;
      const correct = bank[topic][qIndex].answer;
      if(idx === correct) b.classList.add('correct');
    });
    const exp = card.querySelector('.explanation');
    exp.style.display = 'block';
  });
}

// Listeners
resetBtn.addEventListener('click', resetTopic);
revealBtn.addEventListener('click', revealAll);
topicSelect.addEventListener('change', ()=> renderTopic(topicSelect.value));

// Inicializa
renderTopic(topicSelect.value);
</script>
</body>
</html>
